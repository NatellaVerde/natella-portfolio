{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport professionService from \"../services/profession.service\";\nimport isOutdated from \"../utils/isOutdated\";\nconst professionsSlice = createSlice({\n  name: \"professions\",\n  initialState: {\n    entities: null,\n    isLoading: true,\n    error: null,\n    lastFetch: null\n  },\n  reducers: {\n    professionsRequested: state => {\n      state.isLoading = true;\n    },\n    professionsReceved: (state, action) => {\n      state.entities = action.payload;\n      state.lastFetch = Date.now();\n      state.isLoading = false;\n    },\n    professionsRequestFiled: (state, action) => {\n      state.error = action.payload;\n      state.isLoading = false;\n    }\n  }\n});\nconst {\n  reducer: professionsReducer,\n  actions\n} = professionsSlice;\nconst {\n  professionsRequested,\n  professionsReceved,\n  professionsRequestFiled\n} = actions;\nexport const loadProfessionsList = () => async (dispatch, getState) => {\n  const {\n    lastFetch\n  } = getState().professions;\n  if (isOutdated(lastFetch)) {\n    dispatch(professionsRequested());\n    try {\n      const {\n        content\n      } = await professionService.get();\n      dispatch(professionsReceved(content));\n    } catch (error) {\n      dispatch(professionsRequestFiled(error.message));\n    }\n  }\n};\nexport const getProfessions = () => state => state.professions.entities;\nexport const getProfessionsLoadingStatus = () => state => state.professions.isLoading;\nexport const getProfessionbyId = id => state => {\n  if (state.professions.entities) {\n    return state.professions.entities.find(p => p._id === id);\n  }\n};\nexport default professionsReducer;","map":{"version":3,"names":["createSlice","professionService","isOutdated","professionsSlice","name","initialState","entities","isLoading","error","lastFetch","reducers","professionsRequested","state","professionsReceved","action","payload","Date","now","professionsRequestFiled","reducer","professionsReducer","actions","loadProfessionsList","dispatch","getState","professions","content","get","message","getProfessions","getProfessionsLoadingStatus","getProfessionbyId","id","find","p","_id"],"sources":["/Users/natellaverde/Проекты/MC_Portfolio/src/app/store/professions.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport professionService from \"../services/profession.service\";\nimport isOutdated from \"../utils/isOutdated\";\n\nconst professionsSlice = createSlice({\n    name: \"professions\",\n    initialState: {\n        entities: null,\n        isLoading: true,\n        error: null,\n        lastFetch: null\n    },\n    reducers: {\n        professionsRequested: (state) => {\n            state.isLoading = true;\n        },\n        professionsReceved: (state, action) => {\n            state.entities = action.payload;\n            state.lastFetch = Date.now();\n            state.isLoading = false;\n        },\n        professionsRequestFiled: (state, action) => {\n            state.error = action.payload;\n            state.isLoading = false;\n        }\n    }\n});\n\nconst { reducer: professionsReducer, actions } = professionsSlice;\nconst { professionsRequested, professionsReceved, professionsRequestFiled } =\n    actions;\n\nexport const loadProfessionsList = () => async (dispatch, getState) => {\n    const { lastFetch } = getState().professions;\n    if (isOutdated(lastFetch)) {\n        dispatch(professionsRequested());\n        try {\n            const { content } = await professionService.get();\n            dispatch(professionsReceved(content));\n        } catch (error) {\n            dispatch(professionsRequestFiled(error.message));\n        }\n    }\n};\nexport const getProfessions = () => (state) => state.professions.entities;\nexport const getProfessionsLoadingStatus = () => (state) =>\n    state.professions.isLoading;\nexport const getProfessionbyId = (id) => (state) => {\n    if (state.professions.entities) {\n        return state.professions.entities.find((p) => p._id === id);\n    }\n};\nexport default professionsReducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,UAAU,MAAM,qBAAqB;AAE5C,MAAMC,gBAAgB,GAAGH,WAAW,CAAC;EACjCI,IAAI,EAAE,aAAa;EACnBC,YAAY,EAAE;IACVC,QAAQ,EAAE,IAAI;IACdC,SAAS,EAAE,IAAI;IACfC,KAAK,EAAE,IAAI;IACXC,SAAS,EAAE;EACf,CAAC;EACDC,QAAQ,EAAE;IACNC,oBAAoB,EAAGC,KAAK,IAAK;MAC7BA,KAAK,CAACL,SAAS,GAAG,IAAI;IAC1B,CAAC;IACDM,kBAAkB,EAAEA,CAACD,KAAK,EAAEE,MAAM,KAAK;MACnCF,KAAK,CAACN,QAAQ,GAAGQ,MAAM,CAACC,OAAO;MAC/BH,KAAK,CAACH,SAAS,GAAGO,IAAI,CAACC,GAAG,CAAC,CAAC;MAC5BL,KAAK,CAACL,SAAS,GAAG,KAAK;IAC3B,CAAC;IACDW,uBAAuB,EAAEA,CAACN,KAAK,EAAEE,MAAM,KAAK;MACxCF,KAAK,CAACJ,KAAK,GAAGM,MAAM,CAACC,OAAO;MAC5BH,KAAK,CAACL,SAAS,GAAG,KAAK;IAC3B;EACJ;AACJ,CAAC,CAAC;AAEF,MAAM;EAAEY,OAAO,EAAEC,kBAAkB;EAAEC;AAAQ,CAAC,GAAGlB,gBAAgB;AACjE,MAAM;EAAEQ,oBAAoB;EAAEE,kBAAkB;EAAEK;AAAwB,CAAC,GACvEG,OAAO;AAEX,OAAO,MAAMC,mBAAmB,GAAGA,CAAA,KAAM,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACnE,MAAM;IAAEf;EAAU,CAAC,GAAGe,QAAQ,CAAC,CAAC,CAACC,WAAW;EAC5C,IAAIvB,UAAU,CAACO,SAAS,CAAC,EAAE;IACvBc,QAAQ,CAACZ,oBAAoB,CAAC,CAAC,CAAC;IAChC,IAAI;MACA,MAAM;QAAEe;MAAQ,CAAC,GAAG,MAAMzB,iBAAiB,CAAC0B,GAAG,CAAC,CAAC;MACjDJ,QAAQ,CAACV,kBAAkB,CAACa,OAAO,CAAC,CAAC;IACzC,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACZe,QAAQ,CAACL,uBAAuB,CAACV,KAAK,CAACoB,OAAO,CAAC,CAAC;IACpD;EACJ;AACJ,CAAC;AACD,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAOjB,KAAK,IAAKA,KAAK,CAACa,WAAW,CAACnB,QAAQ;AACzE,OAAO,MAAMwB,2BAA2B,GAAGA,CAAA,KAAOlB,KAAK,IACnDA,KAAK,CAACa,WAAW,CAAClB,SAAS;AAC/B,OAAO,MAAMwB,iBAAiB,GAAIC,EAAE,IAAMpB,KAAK,IAAK;EAChD,IAAIA,KAAK,CAACa,WAAW,CAACnB,QAAQ,EAAE;IAC5B,OAAOM,KAAK,CAACa,WAAW,CAACnB,QAAQ,CAAC2B,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKH,EAAE,CAAC;EAC/D;AACJ,CAAC;AACD,eAAeZ,kBAAkB"},"metadata":{},"sourceType":"module"}