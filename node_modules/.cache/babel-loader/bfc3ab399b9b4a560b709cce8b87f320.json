{"ast":null,"code":"var _jsxFileName = \"/Users/natellaverde/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/MC_Portfolio/src/app/components/common/comments/addCommentForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport TextAreaField from \"../form/textAreaField\";\nimport { validator } from \"../../../utils/validator\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddCommentForm = _ref => {\n  _s();\n  let {\n    onSubmit\n  } = _ref;\n  const initialState = {\n    content: \"\"\n  };\n  const [data, setData] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const handleChange = target => {\n    setData(prevState => ({\n      ...prevState,\n      [target.name]: target.value\n    }));\n  };\n  const validatorConfig = {\n    content: {\n      isRequired: {\n        message: \"This field is required.\"\n      }\n    }\n  };\n  useEffect(() => {\n    validate();\n  }, [data]);\n  const validate = () => {\n    const errors = validator(data, validatorConfig);\n    setErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const isValid = Object.keys(errors).length === 0;\n  const clearForm = () => {\n    setData({\n      content: \"\"\n    });\n    setErrors({});\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const isValid = validate();\n    if (!isValid) return;\n    onSubmit(data);\n    clearForm();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"New comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextAreaField, {\n        value: data.content,\n        onChange: handleChange,\n        name: \"content\",\n        label: \"Message\",\n        error: errors.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          style: {\n            background: \"rgb(12, 74, 52)\",\n            color: \"white\"\n          },\n          type: \"submit\",\n          disabled: !isValid,\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(AddCommentForm, \"M4Q3+txg9zWzrlOnlLwFVPq6eME=\");\n_c = AddCommentForm;\nAddCommentForm.propTypes = {\n  onSubmit: PropTypes.func\n};\nexport default AddCommentForm;\nvar _c;\n$RefreshReg$(_c, \"AddCommentForm\");","map":{"version":3,"names":["React","useEffect","useState","TextAreaField","validator","PropTypes","jsxDEV","_jsxDEV","AddCommentForm","_ref","_s","onSubmit","initialState","content","data","setData","errors","setErrors","handleChange","target","prevState","name","value","validatorConfig","isRequired","message","validate","Object","keys","length","isValid","clearForm","handleSubmit","e","preventDefault","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","label","error","className","style","background","color","type","disabled","_c","propTypes","func","$RefreshReg$"],"sources":["/Users/natellaverde/Проекты/MC_Portfolio/src/app/components/common/comments/addCommentForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport TextAreaField from \"../form/textAreaField\";\nimport { validator } from \"../../../utils/validator\";\nimport PropTypes from \"prop-types\";\n\nconst AddCommentForm = ({ onSubmit }) => {\n    const initialState = { content: \"\" };\n    const [data, setData] = useState(initialState);\n    const [errors, setErrors] = useState({ });\n    const handleChange = (target) => {\n        setData((prevState) => ({\n            ...prevState,\n            [target.name]: target.value\n        }));\n    };\n    const validatorConfig = {\n        content: {\n            isRequired: {\n                message: \"This field is required.\"\n            }\n        }\n    };\n    useEffect(() => {\n        validate();\n    }, [data]);\n    const validate = () => {\n        const errors = validator(data, validatorConfig);\n        setErrors(errors);\n        return Object.keys(errors).length === 0;\n    };\n    const isValid = Object.keys(errors).length === 0;\n    const clearForm = () => {\n        setData({ content: \"\" });\n        setErrors({ });\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const isValid = validate();\n        if (!isValid) return;\n        onSubmit(data);\n        clearForm();\n    };\n    return (\n        <div>\n            <h2>New comment</h2>\n            <form onSubmit={handleSubmit}>\n                <TextAreaField\n                    value={data.content}\n                    onChange={handleChange}\n                    name=\"content\"\n                    label=\"Message\"\n                    error={errors.content}\n                />\n                <div className=\"d-flex justify-content-end\">\n                    <button className=\"btn\" style={{ background: \"rgb(12, 74, 52)\", color: \"white\" }}\n                            type=\"submit\"\n                            disabled={!isValid}\n                    >Create</button>\n                </div>\n            </form>\n        </div>\n    );\n};\nAddCommentForm.propTypes = {\n    onSubmit: PropTypes.func\n};\n\nexport default AddCommentForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}