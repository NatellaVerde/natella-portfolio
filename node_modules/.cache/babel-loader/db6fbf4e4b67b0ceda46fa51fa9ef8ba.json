{"ast":null,"code":"const comments = [{\n  _id: \"67rdca3eeb7f6fg\",\n  userId: \"67rdca3eeb7f6fgeed471815\",\n  pageId: \"67rdca3eeb7f6fgeed471815\",\n  content: \"Lorem ipsum dolor\",\n  created_at: \"1633576399367\"\n}, {\n  _id: \"67rdca3eeb7f6fgdasd\",\n  pageId: \"67rdca3eeb7f6fgeed471815\",\n  userId: \"67rdca3eeb7f6fgeed471815\",\n  content: \"Lorem ipsum dolor and etc\",\n  created_at: \"1633573058520\"\n}, {\n  _id: \"67rdca3eeb7f6fgdaasd\",\n  pageId: \"67rdca3eeb7f6fgeed471817\",\n  userId: \"67rdca3eeb7f6fgeed471815\",\n  content: \"Lorem ipsum dolor and etc\",\n  created_at: \"1633573058520\"\n}];\nif (!localStorage.getItem(\"comments\")) {\n  localStorage.setItem(\"comments\", JSON.stringify(comments));\n}\nconst fetchAll = () => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(comments);\n  }, 200);\n});\nconst fetchCommentsForUser = userId => new Promise(resolve => {\n  window.setTimeout(function () {\n    resolve(JSON.parse(localStorage.getItem(\"comments\")).filter(c => c.pageId === userId));\n  }, 200);\n});\nconst add = data => new Promise(resolve => {\n  window.setTimeout(function () {\n    const comments = JSON.parse(localStorage.getItem(\"comments\"));\n    const newComment = {\n      ...data,\n      created_at: Date.now(),\n      _id: Math.random().toString(36).substr(2, 9)\n    };\n    comments.push(newComment);\n    localStorage.setItem(\"comments\", JSON.stringify(comments));\n    resolve(newComment);\n  }, 200);\n});\nconst remove = id => new Promise(resolve => {\n  window.setTimeout(function () {\n    const comments = JSON.parse(localStorage.getItem(\"comments\"));\n    const newComments = comments.filter(x => x._id !== id);\n    console.log(id);\n    console.log(newComments);\n    localStorage.setItem(\"comments\", JSON.stringify(newComments));\n    resolve(id);\n  }, 200);\n});\nexport default {\n  fetchAll,\n  fetchCommentsForUser,\n  add,\n  remove\n};","map":{"version":3,"names":["comments","_id","userId","pageId","content","created_at","localStorage","getItem","setItem","JSON","stringify","fetchAll","Promise","resolve","window","setTimeout","fetchCommentsForUser","parse","filter","c","add","data","newComment","Date","now","Math","random","toString","substr","push","remove","id","newComments","x","console","log"],"sources":["/Users/natellaverde/Проекты/MC_Portfolio/src/app/api2/fake.api/comments.api.js"],"sourcesContent":["const comments = [\n    {\n        _id: \"67rdca3eeb7f6fg\",\n        userId: \"67rdca3eeb7f6fgeed471815\",\n        pageId: \"67rdca3eeb7f6fgeed471815\",\n        content: \"Lorem ipsum dolor\",\n        created_at: \"1633576399367\"\n    },\n    {\n        _id: \"67rdca3eeb7f6fgdasd\",\n        pageId: \"67rdca3eeb7f6fgeed471815\",\n        userId: \"67rdca3eeb7f6fgeed471815\",\n        content: \"Lorem ipsum dolor and etc\",\n        created_at: \"1633573058520\"\n    },\n    {\n        _id: \"67rdca3eeb7f6fgdaasd\",\n        pageId: \"67rdca3eeb7f6fgeed471817\",\n        userId: \"67rdca3eeb7f6fgeed471815\",\n        content: \"Lorem ipsum dolor and etc\",\n        created_at: \"1633573058520\"\n    }\n];\nif (!localStorage.getItem(\"comments\")) {\n    localStorage.setItem(\"comments\", JSON.stringify(comments));\n}\nconst fetchAll = () =>\n    new Promise((resolve) => {\n        window.setTimeout(function () {\n            resolve(comments);\n        }, 200);\n    });\n\nconst fetchCommentsForUser = (userId) =>\n    new Promise((resolve) => {\n        window.setTimeout(function () {\n            resolve(\n                JSON.parse(localStorage.getItem(\"comments\")).filter(\n                    (c) => c.pageId === userId\n                )\n            );\n        }, 200);\n    });\nconst add = (data) =>\n    new Promise((resolve) => {\n        window.setTimeout(function () {\n            const comments = JSON.parse(localStorage.getItem(\"comments\"));\n            const newComment = {\n                ...data,\n                created_at: Date.now(),\n                _id: Math.random().toString(36).substr(2, 9)\n            };\n            comments.push(newComment);\n            localStorage.setItem(\"comments\", JSON.stringify(comments));\n            resolve(newComment);\n        }, 200);\n    });\n\nconst remove = (id) =>\n    new Promise((resolve) => {\n        window.setTimeout(function () {\n            const comments = JSON.parse(localStorage.getItem(\"comments\"));\n            const newComments = comments.filter((x) => x._id !== id);\n            console.log(id);\n            console.log(newComments);\n            localStorage.setItem(\"comments\", JSON.stringify(newComments));\n            resolve(id);\n        }, 200);\n    });\nexport default {\n    fetchAll,\n    fetchCommentsForUser,\n    add,\n    remove\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}